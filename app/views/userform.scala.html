@(user: User, errorMessage: String)(implicit request: RequestHeader, flash: Flash)

@main("user form") {

  <div class="mx-3">
      <div class="form-row mt-3">
          <div class="col">
              <h3>
                  @if(user.id > 0) {
                      Редактирование пользователя id = @user.id
                  } else {
                      Новый пользователь
                  }
              </h3>
          </div>
          <div class="col">
              <form method="post" action="users">
                  @helper.CSRF.formField
                  <input type="hidden" name="message" value=""/>
                  <input type="submit" class="btn btn-primary" value="Назад" />
              </form>
          </div>
      </div>

    <form method="post" action="updateUser" style="width: 50%;">
        @helper.CSRF.formField


        <input type="text" name="id" value="@user.id" hidden/>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Имя</th>
                    <th scope="col">Баланс</th>
                    <th scope="col">Email</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="text" name="name" value="@user.name"/></td>
                    <td><input type="text" name="balance" value="@user.balance"/></td>
                    <td><input type="text" name="email" value="@user.email"/></td>
                    <td>
                        @if(user.id > 0) {
                            <input type="submit" value="Изменить"/>
                        } else {
                            <input type="submit" value="Добавить"/>
                        }
                    </td>
                </tr>
            </tbody>
        </table>
    </form>

      @if(errorMessage.nonEmpty) {
          <div class="alert alert-danger" role="alert">
          @errorMessage
        </div>
      }
    </div>

}